# ImageViewer

## 概要
Windows用の画像ビューアです。

以下の特徴があります。

- 自分でビルド可能
  - 最近のWindows環境であれば、特別なソフトウェアを使用せずにビルド可能。
  
- 画面キャプチャのお供
  - プレビュー用途
    - マルチディスプレイの場合、本ビューアの監視モードが便利です。
      画面キャプチャソフトの結果をプレビューしながら作業を進められます。
      また、拡大率・表示位置も維持するため、一部拡大しながらプレビューすることも可能です。
    
  - キャプチャ画像の整理
    - たくさんのキャプチャファイルのファイル名にコメントを追記したり、
      範囲を指定して別のフォルダに移動することができます。

## 必要要件
- .NET Framework 4.5以降

ZIPファイル内のイメージも閲覧できるように、.NET Framework 4.5以降が必要になりました。

## 使い方

### プログラムのビルド
プログラムをビルドします。
build_with_msbuild.bat をダブルクリックします。

うまくビルドできると、ImageViewer.exe が作成されます。


### プログラムの配置
プログラムをインストールします。

1. プログラムの配置
   以下のファイルを任意のフォルダに配置してください。(例: C:\apps\ImageViewer\)
   - bin\Release\ImageViewer.exe
   - bin\Release\ImageViewer.exe.config
     
2. 画像ファイルへの関連付け
   - .pngや.jpgなどの拡張子をImageViewer.exeに関連付けてください。


### プログラムの起動
ImageViewerの起動方法は、以下の2パターンです。

- ImageViewer.exeを直接起動する。
- ImageViewer.exeに関連付けられたファイルをダブルクリックなどで開く。


### 機能一覧
ImageViewerは、マウス・キーボードで操作します。
操作方法は、下表を参照ください。

右クリックメニューもあります。

| 分類           | 操作                                   | キーバインド                                  |
| :--            | :--                                    | :--                                           |
| 画像切替       | 次の画像を表示                         | 2, j, Right, Down, ホイール下                 |
|                | 前の画像を表示                         | 1, k, Left, Up, ホイール上                    |
|                | 最初の画像を表示                       | A                                             |
|                | 最後の画像を表示                       | z                                             |
|                | 画像を右に90°回転                     | l                                             |
|                | 画像を左に90°回転                     | h                                             |
|                | 画像切り替えに待ち時間を追加           | s                                             |
| 拡大・縮小     | 拡大                                   | Ctrl＋ホイール上, -                           |
|                | 縮小                                   | Ctrl＋ホイール下, +                           |
|                | 拡大率を100%に設定                     | Ctrl+ホイール中央, =, マウス進むボタン, Enter |
|                | リセット                               | 中クリック, 0, Backspace                      |
| ウインドウ切替 | フルスクリーン切替                     | g, F5                                         |
|                | 最大化                                 | f                                             |
|                | タイトルバー表示切替                   | m                                             |
|                | ウインドウサイズを自動調整して中央表示 | a                                             |
|                | ウインドウを中央表示                   | c                                             |
|                | ウィンドウの移動                       | 中クリックドラッグ, ,                         |
|                | ウィンドウのサイズ変更                 | .                                             |
|                | ウィンドウの最前面表示の切替           | t                                             |
|                | ファイルを開く                         | Tab, F                                        |
| クリップボード | 画像をコピー                           | Ctrl+c                                        |
|                | 選択範囲をコピー                       | Ctrl+Shift+c                                  |
| 整理           | ファイル名の変更                       | r                                             |
|                | ファイルの移動                         | Space(範囲選択開始)→Space(移動)              |
|                | ファイルをゴミ箱へ移動                 | d                                             |
|                | ツリー管理                             | t                                             |
| 作業補助       | フォルダ監視                           | マウス戻るボタン                              |
|                | キャプチャ補助準備                     | /                                             |
|                | 線を描画する                           | 右クリックドラッグ                            |
|                | 線をクリアする                         | 左ダブルクリック                              |
| その他         | Explorerを起動する                     | e                                             |
|                | プログラムの終了                       | q, w, ESC                                     |

## こだわり機能
### 画面キャプチャの確認
ImageViewerには、フォルダの変更を監視して、最も新しい画像を表示しつづける機能があります。
WinShotなどで連続してキャプチャを取得する場合に、取り逃していないかを確認しながら作業できます。

監視機能を活用してみてください。

シングルディスプレイの場合は「/」キーを押して、
画面の隅にImageViewerをおいておきましょう。

拡大率の維持も併用すると、ImageViewerに使える領域が狭くても、
重要なところを確認しながらキャプチャ取りができます。

### 画面を広く使用
ImageViewerは、画面を広く使えるように、画像表示以外の部分を少なくしています。
タイトルバーも「m」キーで削除することができます。

タイトルバーがなくても、
中央クリックドラッグでウインドウを移動できますし、
「q」「w」「ESC」キーで終了することもできます。

### 画像に目印
マウスの右ボタンを押しながらドラッグすると、
線を引くことができます。

どこを確認しているのか、線を引いて目印をつけましょう。

### 画像の一部をコピー
「Ctrl+Shift+c」で、矩形選択コピーができます。
マニュアル作成に便利です。

「Ctrl+c」で、全体コピーもできます。

### 狭い画面で特定の箇所だけを拡大しながら閲覧
Ctrl+マウスホイール で、画像を拡大/縮小できます。

ImageViewerは、画像切替時に拡大率を維持します。

そのため、例えば、デスクトップ全体のキャプチャのうち、
特定の部分（アプリケーションとか）を拡大しながら次の画像を表示できます。

これで、デスクトップ全体をキャプチャしても、
小さすぎて見づらいなんてことはありません。

### 画像の切り替えが簡単
マウスのホイール・「j」「k」などで画像を切替えられます。

フォーカスの状態や拡大状況の都合で、
画像が切り替えられなくなったりはしません。

### 画像にコメント
「r」を使用すると、画像ファイルのファイル名にコメントを入力できます。
画像で使用してもよいですし、連続した作業の区切りに使用してもよいです。

### 画像の階層管理
画像のコメント機能をうまく使用すると、「t」で、階層管理機能を使用できます。
ツリー状に画像一覧を表示しますので、コメントの位置に簡単に移動できます。
また、この階層にあわせてフォルダ分けすることもできます。

*※フォルダ分け機能は、まだ実験段階中です。*

### 遅いファイルサーバでもスムーズに比較
2種類の画像で、どこに違いがあるか何度も切り替えて確認したい場合があります。

ImageViewerは、最後に表示した3つのファイルをメモリ上にキャッシュしていますので、
ファイルアクセスが遅い環境でも比較がスムーズです。

### 画像の最初・最後を明示
画像を最後まで閲覧し終わった場合、最初の画像に戻りますが、
その間に (overwrapped) という画面をはさみます。

短い待ち時間を設けていますので、
「j」キー押しっぱなしでも、ちゃんと気づけます。

### すこしゆっくりな連続閲覧
「j」キー押しっぱなしでは、切替が早すぎる場合は、
「s」キーを押してみてください。

画像の切り替えに、少しの待ち時間が入ります。
自分でリズミカルに押さなくても済みます。

### 不要な画像はさっと削除
「d」キーで、現在表示中の画像をゴミ箱に入れることができます。


### ZIPファイル内の画像も閲覧
ファイルをZIPにまとめたい場合があります。
ImageViewerは、ZIPファイル内の画像も閲覧することができます。

なお、ZIPパスワードには対応していません。

**大きいZIPファイルを閲覧するとどうなるかは考えていませんので、ご注意ください**
